/** @type {HTMLCanvasElement} */

/*document.addEventListener('keydown', (e) => {

    switch(e.code) {

        case 'ArrowLeft':
            player.x -= newGame.playerSpeed;
            break

        case 'ArrowRight':
            player.x += newGame.playerSpeed;
            break

        case 'ArrowUp':
            player.y -= newGame.playerSpeed;
            break

        case 'ArrowDown':
            player.y += newGame.playerSpeed;
            break

        /* default :
            player.x = player.x ;
            player.y = player.y ; */

        
        
   /*  }
}) */



let keysPressed = {};             //Object that will store the events generated bye the keydown
let lastKeyPressed = '';



//Event Listener used to detect the keys pressed
//Used with conditional and objects to detect to keys pressed at the same time
//Enabling the player to move on a diagonal
document.addEventListener('keydown', (e) => {
              
    switch(e.code) {

        case 'ArrowUp':
            player.speedY =- 10;
            keysPressed.ArrowUp = true;
            break;

        case 'ArrowDown':
             player.speedY = 10;
             keysPressed.ArrowDown = true;
             break;   
             
        case 'ArrowLeft':
             player.speedX = -10;
             keysPressed.ArrowLeft = true;
             break;  
        case 'ArrowRight':
             player.speedX = 10;
             keysPressed.ArrowRight = true;
             break;  
        case 'Space':
             shot.x = player.x;
             shot.y = player.y;
             //shot.stopShot();
             shot.lastKey = lastKeyPressed;
             shot2.lastKey = lastKeyPressed;
             shot3.lastKey = lastKeyPressed;
             shot4.lastKey = lastKeyPressed;
             shot5.lastKey = lastKeyPressed;
             shot6.lastKey = lastKeyPressed;
             reload.fireShot();
             
             break;
        }
                
                

    if(keysPressed.ArrowUp  && keysPressed.ArrowLeft ) {
       lastKeyPressed = 'ArrowUpLeft';  

    }else if(keysPressed.ArrowUp  && keysPressed.ArrowRight ){
       lastKeyPressed = 'ArrowUpRight'

    } else if(keysPressed.ArrowDown  && keysPressed.ArrowLeft ){
        lastKeyPressed = 'ArrowDownLeft';

    } else if(keysPressed.ArrowDown && keysPressed.ArrowRight){
        lastKeyPressed = 'ArrowDownRight';   

    } else if(keysPressed.ArrowUp){
        lastKeyPressed = 'ArrowUp'

    } else if(keysPressed.ArrowDown){
        lastKeyPressed = 'ArrowDown'
                    
    } else if(keysPressed.ArrowLeft){
        lastKeyPressed = 'ArrowLeft'

    } else if(keysPressed.ArrowRight){
        lastKeyPressed ='ArrowRight';
 
    } 
                
                
});
   




document.addEventListener('keyup', (e) => {

    
    switch(e.code) {
    case 'ArrowUp':
        player.speedY = 0;
        keysPressed.ArrowUp = false;
        break;

    case 'ArrowDown':
        player.speedY = 0;
        keysPressed.ArrowDown = false;
        break;   
        
    case 'ArrowLeft':
        player.speedX = 0;
        keysPressed.ArrowLeft = false;
        break;  

    case 'ArrowRight':
        player.speedX = 0;
        keysPressed.ArrowRight = false;
        break; 

    }

}) 